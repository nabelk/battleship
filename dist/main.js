(()=>{"use strict";class t{constructor(){this.board=Array.from({length:10},(()=>new Array(10).fill(""))),this.ships=[]}isShipPlacementOutOfBound(t,e){return t+e-1<this.board.length}placeShip(t,e,r){this.ships.push(t);const[i,h]=e;if("horizontal"===r)for(let e=h;e<h+t.shipLength;e++)this.board[i][e]=t.name.charAt(0);else for(let e=i;e<i+t.shipLength;e++)this.board[e][h]=t.name.charAt(0)}receiveAttack(t,e){const r=this.ships.find((t=>t.name===e)),[i,h]=t,{board:n}=this;return""!==n[i][h]?(n[i][h]+=" + Hit",r.hit(),!0):(n[i][h]+="MISS",!1)}checkAllShipSunk(){return this.ships.every((t=>t.isSunk()))}}class e{constructor(e){this.turn=e,this.playerBoard=new t,this.board=this.playerBoard.board,this.placeShip=this.playerBoard.placeShip.bind(this.playerBoard),this.receiveAttack=this.playerBoard.receiveAttack.bind(this.playerBoard)}checkAllShipSunk(){return this.playerBoard.checkAllShipSunk()}getRandomCoor(){const[t,e]=[Math.floor(10*Math.random()),Math.floor(10*Math.random())];return[t,e]}aiPlaceShip(t,e){const r=this.getRandomCoor(),i="vertical"===e?r[0]:r[1];return this.playerBoard.isShipPlacementOutOfBound(i,t.shipLength)?this.placeShip(t,r,e):this.aiPlaceShip(t,e)}}const r=new e(!0),i=new e(!1),h=new class{constructor(t,e,r=!1,i=0){this.name=t,this.shipLength=e,this.checkSunk=r,this.numOfHit=i}hit(){return this.numOfHit+=1,this.numOfHit}isSunk(){return this.numOfHit===this.shipLength&&(this.checkSunk=!0),this.checkSunk}}("destroyer",7);function n(){return{renderBoard:function(t,e){const r=t.board;for(let t=0;t<r.length;t++){const i=document.createElement("div");r[t].forEach((t=>{const e=document.createElement("div");e.textContent=t,i.appendChild(e)})),document.querySelector(e).appendChild(i)}}}}r.placeShip(h,[3,2]),i.aiPlaceShip(h,"horizontal"),n().renderBoard(r,".user"),n().renderBoard(i,".ai")})();